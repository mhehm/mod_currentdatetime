(function($){$.fn.chosenOrder=function(){var $this=this.filter('.chzn-sortable[multiple]').first(),$chosen=$this.siblings('.chzn-container');return $($chosen.find('.chzn-choices li[class!="search-field"]').map(function(){if(!this){return undefined;}
return $this.find('option:contains('+$(this).text()+')')[0];}));};$.fn.chosenSortable=function(){var $this=this.filter('.chzn-sortable[multiple]');$this.each(function(){var $select=$(this);var $chosen=$select.siblings('.chzn-container');$chosen.find('.chzn-choices').bind('mousedown',function(event){if($(event.target).is('span')){event.stopPropagation();}});$chosen.find('.chzn-choices').sortable({'placeholder':'ui-state-highlight','items':'li:not(.search-field)','update':function(){var $options=$select.chosenOrder();$select.children().remove();$select.append($options);},'tolerance':'pointer'});$select.closest('form').on('submit',function(){var $options=$select.chosenOrder();$select.children().remove();$select.append($options);});});};}(jQuery));